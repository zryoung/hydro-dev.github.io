<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>hydrojudge | Hydro</title>
    <meta name="generator" content="VuePress 1.5.2">
    <link rel="icon" href="/hydro.png">
    <script async="true" src="https://www.googletagmanager.com/gtag/js?id=G-CX4XJ0H0TE"></script>
    <script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments);}gtag('js',new Date());gtag('config','G-CX4XJ0H0TE');</script>
    <link rel="alternate" type="application/atom+xml" href="https://hydro.js.org/atom.xml" title="Hydro Atom Feed">
    <link rel="alternate" type="application/json" href="https://hydro.js.org/feed.json" title="Hydro JSON Feed">
    <link rel="alternate" type="application/rss+xml" href="https://hydro.js.org/rss.xml" title="Hydro RSS Feed">
    <link rel="manifest" href="/manifest.webmanifest" crossorigin="use-credentials">
    <meta name="description" content="">
    <meta property="og:url" content="/plugins/hydrojudge.html">
    <meta property="og:site_name" content="Hydro">
    <meta property="og:title" content="hydrojudge">
    <meta property="og:type" content="article">
    <meta property="og:locale" content="en-US">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:image:alt" content="Hydro">
    <meta name="theme-color" content="#ffeded">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <link rel="preload" href="/assets/css/0.styles.3be042f4.css" as="style"><link rel="preload" href="/assets/js/app.9be10bc1.js" as="script"><link rel="preload" href="/assets/js/layout-Layout.47b6f70b.js" as="script"><link rel="preload" href="/assets/js/vendors~layout-Blog~layout-Layout~layout-NotFound.3ae24e86.js" as="script"><link rel="preload" href="/assets/js/vendors~layout-Blog~layout-Layout~layout-NotFound~layout-Slide.115a3591.js" as="script"><link rel="preload" href="/assets/js/vendors~layout-Blog~layout-Layout.495a8045.js" as="script"><link rel="preload" href="/assets/js/page-hydrojudge.ce7df22d.js" as="script"><link rel="prefetch" href="/assets/js/4.f0cd068c.js"><link rel="prefetch" href="/assets/js/45.3dfbf0be.js"><link rel="prefetch" href="/assets/js/46.7eeceacc.js"><link rel="prefetch" href="/assets/js/47.a6f025be.js"><link rel="prefetch" href="/assets/js/48.79184ca8.js"><link rel="prefetch" href="/assets/js/49.7355c58d.js"><link rel="prefetch" href="/assets/js/layout-Blog.44f770ea.js"><link rel="prefetch" href="/assets/js/layout-NotFound.3950b202.js"><link rel="prefetch" href="/assets/js/layout-Slide.40a2a74d.js"><link rel="prefetch" href="/assets/js/page-Home.9dc85b4d.js"><link rel="prefetch" href="/assets/js/page-HydroCli.f3996262.js"><link rel="prefetch" href="/assets/js/page-SMTP.b88600f4.js"><link rel="prefetch" href="/assets/js/page-Sonic.b6cb9598.js"><link rel="prefetch" href="/assets/js/page-Vjudge.3c243bce.js"><link rel="prefetch" href="/assets/js/page-fps-importer.3ef398a3.js"><link rel="prefetch" href="/assets/js/page-migrate-vijos.cea3093c.js"><link rel="prefetch" href="/assets/js/page-recaptcha.15ea648c.js"><link rel="prefetch" href="/assets/js/page-介绍.68b009e6.js"><link rel="prefetch" href="/assets/js/page-使用JavaScript编写插件.6a440a36.js"><link rel="prefetch" href="/assets/js/page-使用TypeScript编写插件.029607e9.js"><link rel="prefetch" href="/assets/js/page-使用内容分发网络.2264d7dd.js"><link rel="prefetch" href="/assets/js/page-初始化.22dff0f8.js"><link rel="prefetch" href="/assets/js/page-前端修改.abd5961a.js"><link rel="prefetch" href="/assets/js/page-反向代理SSL配置.9738de15.js"><link rel="prefetch" href="/assets/js/page-域.8d5fc432.js"><link rel="prefetch" href="/assets/js/page-多域间联合排名.b0d81d76.js"><link rel="prefetch" href="/assets/js/page-存储.ee807e6d.js"><link rel="prefetch" href="/assets/js/page-导入用户.f3e74018.js"><link rel="prefetch" href="/assets/js/page-常见问题杂项.f6c6a769.js"><link rel="prefetch" href="/assets/js/page-开发环境部署.f936fe06.js"><link rel="prefetch" href="/assets/js/page-插件.9443e848.js"><link rel="prefetch" href="/assets/js/page-数据库备份和恢复.6389fb43.js"><link rel="prefetch" href="/assets/js/page-权限节点.4fee2c97.js"><link rel="prefetch" href="/assets/js/page-测试数据格式.e40cd52e.js"><link rel="prefetch" href="/assets/js/page-用户文档.6879a6cb.js"><link rel="prefetch" href="/assets/js/page-端口映射.82cadeea.js"><link rel="prefetch" href="/assets/js/page-维护.3f1e747e.js"><link rel="prefetch" href="/assets/js/page-跨域引用题目.f59604ec.js"><link rel="prefetch" href="/assets/js/page-部署Hydro.0ce90e43.js"><link rel="prefetch" href="/assets/js/page-题目.42d902fe.js"><link rel="prefetch" href="/assets/js/vendors~flowchart.9387c930.js"><link rel="prefetch" href="/assets/js/vendors~photo-swipe.687e7cd0.js"><link rel="prefetch" href="/assets/js/vendors~reveal.97920e7b.js">
    <link rel="stylesheet" href="/assets/css/0.styles.3be042f4.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container has-navbar has-sidebar has-anchor"><header class="navbar"><button class="sidebar-button"><span class="icon"></span></button> <a href="/" class="home-link router-link-active"><img src="/favicon.ico" alt="Hydro" class="logo"> <!----> <span class="site-name can-hide">Hydro</span></a> <div class="links"><button class="color-button"><svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="skin-icon"><path d="M224 800c0 9.6 3.2 44.8 6.4 54.4 6.4 48-48 76.8-48 76.8s80 41.6 147.2 0 134.4-134.4
        38.4-195.2c-22.4-12.8-41.6-19.2-57.6-19.2C259.2 716.8 227.2 761.6 224 800zM560 675.2l-32
        51.2c-51.2 51.2-83.2 32-83.2 32 25.6 67.2 0 112-12.8 128 25.6 6.4 51.2 9.6 80 9.6 54.4 0
        102.4-9.6 150.4-32l0 0c3.2 0 3.2-3.2 3.2-3.2 22.4-16 12.8-35.2
        6.4-44.8-9.6-12.8-12.8-25.6-12.8-41.6 0-54.4 60.8-99.2 137.6-99.2 6.4 0 12.8 0 22.4
        0 12.8 0 38.4 9.6 48-25.6 0-3.2 0-3.2 3.2-6.4 0-3.2 3.2-6.4 3.2-6.4 6.4-16 6.4-16 6.4-19.2
        9.6-35.2 16-73.6 16-115.2 0-105.6-41.6-198.4-108.8-268.8C704 396.8 560 675.2 560 675.2zM224
        419.2c0-28.8 22.4-51.2 51.2-51.2 28.8 0 51.2 22.4 51.2 51.2 0 28.8-22.4 51.2-51.2 51.2C246.4
        470.4 224 448 224 419.2zM320 284.8c0-22.4 19.2-41.6 41.6-41.6 22.4 0 41.6 19.2 41.6 41.6 0
        22.4-19.2 41.6-41.6 41.6C339.2 326.4 320 307.2 320 284.8zM457.6 208c0-12.8 12.8-25.6 25.6-25.6
        12.8 0 25.6 12.8 25.6 25.6 0 12.8-12.8 25.6-25.6 25.6C470.4 233.6 457.6 220.8 457.6 208zM128
        505.6C128 592 153.6 672 201.6 736c28.8-60.8 112-60.8 124.8-60.8-16-51.2 16-99.2
        16-99.2l316.8-422.4c-48-19.2-99.2-32-150.4-32C297.6 118.4 128 291.2 128 505.6zM764.8
        86.4c-22.4 19.2-390.4 518.4-390.4 518.4-22.4 28.8-12.8 76.8 22.4 99.2l9.6 6.4c35.2 22.4
        80 12.8 99.2-25.6 0 0 6.4-12.8 9.6-19.2 54.4-105.6 275.2-524.8 288-553.6
        6.4-19.2-3.2-32-19.2-32C777.6 76.8 771.2 80 764.8 86.4z"></path></svg> <div class="color-picker-menu" style="display:none;"><div class="theme-options"><ul class="themecolor-select"><label for="themecolor-select">Theme Color:</label> <li><a href="#" class="default-theme"></a></li> </ul> <div class="darkmode-toggle"><label for="darkmode-toggle" class="desc">Theme Mode:</label> <div class="darkmode-switch"><div class="item day"><svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon light-icon"><path d="M512 256a42.667 42.667 0 0 0 42.667-42.667V128a42.667 42.667 0 0 0-85.334 0v85.333A42.667 42.667 0 0 0 512 256zm384 213.333h-85.333a42.667 42.667 0 0 0 0 85.334H896a42.667 42.667 0 0 0 0-85.334zM256 512a42.667 42.667 0 0 0-42.667-42.667H128a42.667 42.667 0 0 0 0 85.334h85.333A42.667 42.667 0 0 0 256 512zm9.387-298.667a42.667 42.667 0 0 0-59.307 62.72l61.44 59.307a42.667 42.667 0 0 0 31.147 11.947 42.667 42.667 0 0 0 30.72-13.227 42.667 42.667 0 0 0 0-60.16zm459.946 133.974a42.667 42.667 0 0 0 29.44-11.947l61.44-59.307a42.667 42.667 0 0 0-57.6-62.72l-61.44 60.587a42.667 42.667 0 0 0 0 60.16 42.667 42.667 0 0 0 28.16 13.227zM512 768a42.667 42.667 0 0 0-42.667 42.667V896a42.667 42.667 0 0 0 85.334 0v-85.333A42.667 42.667 0 0 0 512 768zm244.48-79.36a42.667 42.667 0 0 0-59.307 61.44l61.44 60.587a42.667 42.667 0 0 0 29.44 11.946 42.667 42.667 0 0 0 30.72-12.8 42.667 42.667 0 0 0 0-60.586zm-488.96 0-61.44 59.307a42.667 42.667 0 0 0 0 60.586 42.667 42.667 0 0 0 30.72 12.8 42.667 42.667 0 0 0 28.587-10.666l61.44-59.307a42.667 42.667 0 0 0-59.307-61.44zM512 341.333A170.667 170.667 0 1 0 682.667 512 170.667 170.667 0 0 0 512 341.333z" fill="currentColor"></path></svg></div> <div class="item auto active"><svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon auto-icon"><path d="M460.864 539.072H564.8L510.592 376l-49.728 163.072zM872 362.368V149.504H659.648L510.528 0l-149.12 149.504H149.12v212.928L0 511.872l149.12 149.504v212.928h212.352l149.12 149.504 149.12-149.504h212.352V661.376l149.12-149.504L872 362.368zM614.464 693.12l-31.616-90.624H438.272l-31.616 90.624h-85.888l144.576-407.68h90.368l144.576 407.68h-85.824zm0 0" fill="currentColor"></path></svg></div> <div class="item night"><svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon dark-icon"><path d="M935.539 630.402c-11.43-11.432-28.674-14.739-43.531-8.354-46.734 20.103-96.363 30.297-147.508 30.297-99.59 0-193.221-38.784-263.64-109.203-108.637-108.637-139.61-270.022-78.908-411.148a39.497 39.497 0 0 0-51.886-51.887c-52.637 22.64-100.017 54.81-140.826 95.616-85.346 85.346-132.346 198.821-132.346 319.52 0 120.7 47.001 234.172 132.347 319.519S408.063 947.11 528.76 947.11c120.7 0 234.172-47.003 319.52-132.351 40.809-40.81 72.978-88.19 95.616-140.826a39.497 39.497 0 0 0-8.356-43.532z" fill="currentColor"></path></svg></div></div> <!----></div></div></div></button> <div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/docs/" class="nav-link"><!---->
  文档
</a></div><div class="nav-item"><a href="/dev/" class="nav-link"><!---->
  开发
</a></div><div class="nav-item"><a href="/plugins/" class="nav-link router-link-active active"><!---->
  插件
</a></div></nav> <!----> <a rel="noopener noreferrer" href="https://github.com/hydro-dev/Hydro" target="_blank" class="repo-link can-hide">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><!---->  <nav class="sidebar-nav-links"><div class="nav-item"><a href="/docs/" class="nav-link"><!---->
  文档
</a></div><div class="nav-item"><a href="/dev/" class="nav-link"><!---->
  开发
</a></div><div class="nav-item"><a href="/plugins/" class="nav-link router-link-active active"><!---->
  插件
</a></div> <a rel="noopener noreferrer" href="https://github.com/hydro-dev/Hydro" target="_blank" class="repo-link">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><!----> <span class="title">插件</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/plugins/" aria-current="page" class="sidebar-link">插件</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/plugins/#附加组件列表" class="sidebar-link">附加组件列表</a></li><li class="sidebar-sub-header"><a href="/plugins/#安装" class="sidebar-link">安装</a></li><li class="sidebar-sub-header"><a href="/plugins/#更新" class="sidebar-link">更新</a></li><li class="sidebar-sub-header"><a href="/plugins/#卸载" class="sidebar-link">卸载</a></li></ul></li><li><a href="/plugins/fps-importer/" class="sidebar-link">fps-importer</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/plugins/fps-importer/#从-fps-文件导入题目" class="sidebar-link">从 fps 文件导入题目</a></li></ul></li><li><a href="/plugins/hydrojudge/" aria-current="page" class="active sidebar-link">hydrojudge</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/plugins/hydrojudge/#准备" class="sidebar-link">准备</a></li><li class="sidebar-sub-header"><a href="/plugins/hydrojudge/#安装" class="sidebar-link">安装</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/plugins/hydrojudge/#作为附加组件" class="sidebar-link heading3">作为附加组件</a></li><li class="sidebar-sub-header"><a href="/plugins/hydrojudge/#作为独立进程" class="sidebar-link heading3">作为独立进程</a></li></ul></li><li class="sidebar-sub-header"><a href="/plugins/hydrojudge/#更新" class="sidebar-link">更新</a></li><li class="sidebar-sub-header"><a href="/plugins/hydrojudge/#关闭" class="sidebar-link">关闭</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/plugins/hydrojudge/#作为附加组件-2" class="sidebar-link heading3">作为附加组件</a></li><li class="sidebar-sub-header"><a href="/plugins/hydrojudge/#作为独立进程-2" class="sidebar-link heading3">作为独立进程</a></li></ul></li><li class="sidebar-sub-header"><a href="/plugins/hydrojudge/#卸载" class="sidebar-link">卸载</a></li><li class="sidebar-sub-header"><a href="/plugins/hydrojudge/#评测设置" class="sidebar-link">评测设置</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/plugins/hydrojudge/#作为附加组件-3" class="sidebar-link heading3">作为附加组件</a></li><li class="sidebar-sub-header"><a href="/plugins/hydrojudge/#作为独立进程-3" class="sidebar-link heading3">作为独立进程</a></li></ul></li><li class="sidebar-sub-header"><a href="/plugins/hydrojudge/#修改编译选项-添加新语言支持" class="sidebar-link">修改编译选项/添加新语言支持</a></li><li class="sidebar-sub-header"><a href="/plugins/hydrojudge/#测试数据格式" class="sidebar-link">测试数据格式</a></li><li class="sidebar-sub-header"><a href="/plugins/hydrojudge/#调整沙箱空间大小" class="sidebar-link">调整沙箱空间大小</a></li><li class="sidebar-sub-header"><a href="/plugins/hydrojudge/#c-c-彩色编译错误信息" class="sidebar-link">C/C++ 彩色编译错误信息</a></li><li class="sidebar-sub-header"><a href="/plugins/hydrojudge/#开大程序运行栈空间" class="sidebar-link">开大程序运行栈空间</a></li><li class="sidebar-sub-header"><a href="/plugins/hydrojudge/#提高测评精度" class="sidebar-link">提高测评精度</a></li></ul></li><li><a href="/plugins/migrate-vijos/" class="sidebar-link">migrate-vijos</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/plugins/migrate-vijos/#从-vijos-升级" class="sidebar-link">从 Vijos 升级</a></li></ul></li><li><a href="/plugins/recaptcha/" class="sidebar-link">recaptcha</a></li><li><a href="/plugins/sonic/" class="sidebar-link">Sonic</a></li><li><a href="/plugins/vjudge/" class="sidebar-link">Vjudge</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/plugins/vjudge/#codeforces" class="sidebar-link">Codeforces</a></li></ul></li></ul></section></li></ul> </aside> <main class="page"><nav class="breadcrumb"><ol vocab="https://schema.org/" typeof="BreadcrumbList"><li property="itemListElement" typeof="ListItem"><a href="/plugins/" property="item" typeof="WebPage" class="router-link-active"><!----> <span property="name">插件</span></a> <meta property="position" content="1"></li><li property="itemListElement" typeof="ListItem" class="is-active"><a href="/plugins/hydrojudge/" aria-current="page" property="item" typeof="WebPage" class="router-link-exact-active router-link-active"><!----> <span property="name">hydrojudge</span></a> <meta property="position" content="2"></li></ol></nav>  <div vocab="https://schema.org/" typeof="Article" class="page-title"><h1><!----> <span property="headline">hydrojudge</span></h1> <!----> <!----> <hr></div> <div class="anchor-place-holder"><aside id="anchor"><div class="anchor-wrapper"><ul class="anchor-list"><li class="anchor"><a href="/plugins/hydrojudge/#准备" class="anchor-link heading2"><div>准备</div></a></li><li class="anchor"><a href="/plugins/hydrojudge/#安装" class="anchor-link heading2"><div>安装</div></a></li><li class="anchor"><a href="/plugins/hydrojudge/#作为附加组件" class="anchor-link heading3"><div>作为附加组件</div></a></li><li class="anchor"><a href="/plugins/hydrojudge/#作为独立进程" class="anchor-link heading3"><div>作为独立进程</div></a></li><li class="anchor"><a href="/plugins/hydrojudge/#更新" class="anchor-link heading2"><div>更新</div></a></li><li class="anchor"><a href="/plugins/hydrojudge/#关闭" class="anchor-link heading2"><div>关闭</div></a></li><li class="anchor"><a href="/plugins/hydrojudge/#作为附加组件-2" class="anchor-link heading3"><div>作为附加组件</div></a></li><li class="anchor"><a href="/plugins/hydrojudge/#作为独立进程-2" class="anchor-link heading3"><div>作为独立进程</div></a></li><li class="anchor"><a href="/plugins/hydrojudge/#卸载" class="anchor-link heading2"><div>卸载</div></a></li><li class="anchor"><a href="/plugins/hydrojudge/#评测设置" class="anchor-link heading2"><div>评测设置</div></a></li><li class="anchor"><a href="/plugins/hydrojudge/#作为附加组件-3" class="anchor-link heading3"><div>作为附加组件</div></a></li><li class="anchor"><a href="/plugins/hydrojudge/#作为独立进程-3" class="anchor-link heading3"><div>作为独立进程</div></a></li><li class="anchor"><a href="/plugins/hydrojudge/#修改编译选项-添加新语言支持" class="anchor-link heading2"><div>修改编译选项/添加新语言支持</div></a></li><li class="anchor"><a href="/plugins/hydrojudge/#测试数据格式" class="anchor-link heading2"><div>测试数据格式</div></a></li><li class="anchor"><a href="/plugins/hydrojudge/#调整沙箱空间大小" class="anchor-link heading2"><div>调整沙箱空间大小</div></a></li><li class="anchor"><a href="/plugins/hydrojudge/#c-c-彩色编译错误信息" class="anchor-link heading2"><div>C/C++ 彩色编译错误信息</div></a></li><li class="anchor"><a href="/plugins/hydrojudge/#开大程序运行栈空间" class="anchor-link heading2"><div>开大程序运行栈空间</div></a></li><li class="anchor"><a href="/plugins/hydrojudge/#提高测评精度" class="anchor-link heading2"><div>提高测评精度</div></a></li></ul></div></aside></div> <div class="theme-default-content content__default"><h1 id="hydrojudge"><a href="#hydrojudge" class="header-anchor">#</a> hydrojudge</h1> <h2 id="准备"><a href="#准备" class="header-anchor">#</a> 准备</h2> <p>在配置评测机之前，请确认您的站点已经可以访问并正常登录/注册。</p> <p>您应该预先下载您所要支持的语言的编译器，若您在配置完评测机后 升级/重新安装 了编译器，您需要重新启动沙箱。</p> <p>前往 <a href="https://github.com/criyle/go-judge/releases" target="_blank" rel="noopener noreferrer">criyle/go-judge<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> 下载 executorserver。</p> <table><thead><tr><th>系统版本</th> <th>文件名</th></tr></thead> <tbody><tr><td>Windows 7+</td> <td>executorserver.exe</td></tr> <tr><td>Linux 4.4+</td> <td>executorserver-amd64</td></tr> <tr><td>MacOS ?+</td> <td>executorserver-macos</td></tr></tbody></table> <p>Executorserver 需要在后台<strong>以 root 权限</strong>运行并监听 <code>127.0.0.1:5050</code> 。
可使用 pm2 进行管理。</p> <div class="custom-block tip"><p class="custom-block-title">Tips</p> <p>如果您是 vj4 用户，请使用“作为独立进程”配置（设置处需设成 <code>type: vj4</code>）。</p></div> <h2 id="安装"><a href="#安装" class="header-anchor">#</a> 安装</h2> <h3 id="作为附加组件"><a href="#作为附加组件" class="header-anchor">#</a> 作为附加组件</h3> <div class="custom-block tip"><p class="custom-block-title">Tips</p> <p>由于用附加组件安装的评测机与 Hydro 必须在同一台服务器上，每一个 Hydro 实例最多只能有一台评测机由附加组件安装。</p></div> <p>在安装 Hydro 的机器上运行下面的指令安装 <code>@hydrooj/hydrojudge</code>：</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token function">yarn</span> global <span class="token function">add</span> @hydrooj/hydrojudge
hydrooj addon <span class="token function">add</span> @hydrooj/hydrojudge
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>重启 Hydro 后 hydrojudge 即可正常运行。</p> <h3 id="作为独立进程"><a href="#作为独立进程" class="header-anchor">#</a> 作为独立进程</h3> <div class="custom-block tip"><p class="custom-block-title">Tips</p> <p>该方法可以帮助您在任意服务器上部署评测机。</p></div> <p>首先需要创建一个有 PRIV_JUDGE 权限的账户，具体方法参照 <a href="/docs/cli/#创建评测账号">此处</a>。（在部署 Hydro 的服务器上运行）<br>
（vj4 用户需参照 <a href="https://github.com/vijos/vj4#judging" target="_blank" rel="noopener noreferrer">vj4 的方法<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> 创建账户）</p> <p>然后在运行评测机的服务器上安装 hydrojudge 插件：</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token function">yarn</span> global <span class="token function">add</span> @hydrooj/hydrojudge
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>创建目录 <code>~/.config/hydro</code>，在该目录下创建文件 <code>judge.yaml</code>，配置文件格式如下：</p> <div class="language-yaml line-numbers-mode"><pre class="language-yaml"><code><span class="token key atrule">hosts</span><span class="token punctuation">:</span>
  <span class="token key atrule">localhost</span><span class="token punctuation">:</span>
    <span class="token key atrule">type</span><span class="token punctuation">:</span> hydro <span class="token comment"># vj4 用户请在此处填写 vj4</span>
    <span class="token key atrule">server_url</span><span class="token punctuation">:</span> http<span class="token punctuation">:</span>//localhost<span class="token punctuation">:</span>8888/ <span class="token comment"># Hydro 运行的网址</span>
    <span class="token key atrule">uname</span><span class="token punctuation">:</span> judge <span class="token comment"># 评测账号用户名</span>
    <span class="token key atrule">password</span><span class="token punctuation">:</span> abc123 <span class="token comment"># 评测账号密码</span>
    <span class="token key atrule">detail</span><span class="token punctuation">:</span> <span class="token boolean important">true</span> <span class="token comment"># 默认为 true</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>设置完之后，使用下面的指令即可开始运行（可以使用 pm2 管理）：</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>hydrojudge
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h2 id="更新"><a href="#更新" class="header-anchor">#</a> 更新</h2> <p>HydroJudge 会发布不定期更新。您可以使用 <code>yarn global upgrade-interactive --latest</code> 来检测并进行更新。</p> <h2 id="关闭"><a href="#关闭" class="header-anchor">#</a> 关闭</h2> <h3 id="作为附加组件-2"><a href="#作为附加组件-2" class="header-anchor">#</a> 作为附加组件</h3> <p>在 系统设置&gt;hydrojudge 中有一栏 Disable builtin judge，将它勾上，然后重启 Hydro 即可。</p> <h3 id="作为独立进程-2"><a href="#作为独立进程-2" class="header-anchor">#</a> 作为独立进程</h3> <p>根据开启的方法关闭即可。</p> <h2 id="卸载"><a href="#卸载" class="header-anchor">#</a> 卸载</h2> <p>关闭后运行下面指令即可。</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token function">yarn</span> global remove @hydrooj/hydrojudge
hydrooj addon remove @hydrooj/hydrojudge
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h2 id="评测设置"><a href="#评测设置" class="header-anchor">#</a> 评测设置</h2> <h3 id="作为附加组件-3"><a href="#作为附加组件-3" class="header-anchor">#</a> 作为附加组件</h3> <p>在 系统设置&gt;hydrojudge 修改对应的参数，然后重启 Hydro 和 hydrojudge 即可。</p> <h3 id="作为独立进程-3"><a href="#作为独立进程-3" class="header-anchor">#</a> 作为独立进程</h3> <p>如果有需要修改单题测试点数量上限等设置，可以在 <code>~/.config/hydro/judge.yaml</code> 的末尾添加下列内容：</p> <div class="language-yaml line-numbers-mode"><pre class="language-yaml"><code><span class="token key atrule">testcases_max</span><span class="token punctuation">:</span> <span class="token number">100</span> <span class="token comment"># 单题最多测试点数量</span>
<span class="token key atrule">total_time_limit</span><span class="token punctuation">:</span> <span class="token number">120</span> <span class="token comment"># 单题最大总测试时长</span>
<span class="token key atrule">parallelism</span><span class="token punctuation">:</span> <span class="token number">2</span> <span class="token comment"># 单评测机评测进程数量</span>
<span class="token comment"># 更多可选配置均可添加在此处，格式与前面的三排类似</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>在 <a href="https://github.com/hydro-dev/Hydro/blob/9c0afa38e3e6fa886ab9e9237847893fa6714392/packages/hydrojudge/src/config.ts#L12" target="_blank" rel="noopener noreferrer">此处<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> 的设置均可添加到此处。</p> <h2 id="修改编译选项-添加新语言支持"><a href="#修改编译选项-添加新语言支持" class="header-anchor">#</a> 修改编译选项/添加新语言支持</h2> <p>对于已安装内置评测机的用户（无论内置评测机是否启动），在 控制面板&gt;系统设置 中修改 judge.langs 配置项即可；对于没有安装内置评测机的用户，需要在 <code>~/.config/hydro/langs.yaml</code> 中配置。</p> <p>按照 <a href="https://github.com/hydro-dev/Hydro/blob/71bb2f0b517be8f6966f97f835f2521f179b3d84/packages/hydrooj/setting.yaml#L12" target="_blank" rel="noopener noreferrer">此处<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> 格式即可。</p> <p>如果您添加了新的语言，您还需要前往 控制面板&gt;系统设置 中修改 Language Highlight ID 与 Monaco language modes。<br>
分别表示选择对应的语言后的高亮设置（基于 PrismJS）和 Monaco 编辑器语法规则设置。</p> <p>修改完后重启 Hydro 和 hydrojudge 即可。</p> <h2 id="测试数据格式"><a href="#测试数据格式" class="header-anchor">#</a> 测试数据格式</h2> <p>参照 <a href="/docs/user/problem/#测试数据格式">测试数据格式</a> 配置。</p> <h2 id="调整沙箱空间大小"><a href="#调整沙箱空间大小" class="header-anchor">#</a> 调整沙箱空间大小</h2> <div class="custom-block warning"><p class="custom-block-title">Note</p> <p>如果不调整沙箱的空间大小，当您的评测使用文件 IO 且输入输出文件较大时可能会引发错误。</p></div> <div class="custom-block tip"><p class="custom-block-title">Tips</p> <p>可以在服务器上运行下面的代码找到 hydro-sandbox 的运行目录：</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>pm2 info hydro-sandbox <span class="token operator">|</span> <span class="token function">grep</span> <span class="token string">&quot;exec cwd&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></div> <p>将 <a href="https://github.com/criyle/go-judge/blob/master/mount.yaml" target="_blank" rel="noopener noreferrer">mount.yaml<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> 下载并放置在 sandbox 的运行目录下。然后修改第 50 行和第 54 行的 <code>size</code> 和 <code>nr_inodes</code> 的大小至您想要的大小，保存后重启 sandbox 即可完成更改。</p> <h2 id="c-c-彩色编译错误信息"><a href="#c-c-彩色编译错误信息" class="header-anchor">#</a> C/C++ 彩色编译错误信息</h2> <ol><li>确认您安装了支持彩色输出的编译器；</li> <li>在系统设置中，将 C/C++ 编译命令后加上 <code>-fdiagnostics-color=always</code></li></ol> <p>例：</p> <div class="language-yml line-numbers-mode"><pre class="language-yml"><code><span class="token key atrule">c</span><span class="token punctuation">:</span>
  <span class="token key atrule">compile</span><span class="token punctuation">:</span> /usr/bin/gcc <span class="token punctuation">-</span>O2 <span class="token punctuation">-</span>Wall <span class="token punctuation">-</span>std=c99 <span class="token punctuation">-</span>o $<span class="token punctuation">{</span>name<span class="token punctuation">}</span> foo.c <span class="token punctuation">-</span>lm <span class="token punctuation">-</span>fdiagnostics<span class="token punctuation">-</span>color=always
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h2 id="开大程序运行栈空间"><a href="#开大程序运行栈空间" class="header-anchor">#</a> 开大程序运行栈空间</h2> <p>在很多时候系统默认为程序提供的栈空间并不能满足我们的需求，此时我们需要手动为用户程序提供更大的栈空间。</p> <p>修改 pm2 中 hydro-sandbox 的启动参数为 <code>ulimit -s unlimited &amp;&amp; /path-to/sandbox</code> 即可：</p> <div class="custom-block tip"><p class="custom-block-title">Tips</p> <p>您需要将 <code>/path-to/sandbox</code> 更换为您机器上 sandbox 的绝对路径。</p></div> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>pm2 del hydro-sandbox
pm2 start <span class="token string">&quot;ulimit -s unlimited &amp;&amp; /path-to/sandbox&quot;</span> --name hydro-sandbox
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h2 id="提高测评精度"><a href="#提高测评精度" class="header-anchor">#</a> 提高测评精度</h2> <p>禁用 CPU 频率缩放与 Intel 睿频加速技术，防止 CPU 频率波动。</p> <p>禁用内存地址空间随机化，以使得存在内存寻址错误的代码能够得到更多可重复的结果，可以通过在 <code>/etc/sysctl.conf</code> 中添加下面这行并运行 <code>sudo sysctl -p</code> 实现：</p> <div class="language-plain line-numbers-mode"><pre class="language-text"><code>kernel.randomize_va_space = 0
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></div> <footer class="page-meta"><div class="edit-link"><svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon edit-icon"><path d="M117.953 696.992 64.306 959.696l265.931-49.336 450.204-452.505-212.284-213.376-450.204 452.513zm496.384-296.326L219.039 797.993l-46.108-46.34L568.233 354.33l46.104 46.335zm345.357-122.99-114.45 115.04-212.288-213.377 114.45-115.035 212.288 213.371zm0 0" fill="currentColor"></path></svg> <a href="https://github.com/hydro-dev/hydro-dev.github.io/edit/docs/plugins/hydrojudge.md" target="_blank" rel="noopener noreferrer">Edit this page</a></div> <div class="meta-item update-time"><span class="label">Last update:</span> <span class="info">October 5, 2021 09:49</span></div> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev"><a href="/plugins/fps-importer/" class="prev"><svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon prev-icon"><path d="M906.783 588.79c-.02 8.499-6.882 15.36-15.38 15.37l-443.7-.01 75.704 191.682c2.52 6.42.482 13.763-5.038 17.91-5.52 4.168-13.138 4.147-18.616-.092L123.228 524.175a15.362 15.362 0 0 1-6-12.165c0-4.782 2.222-9.277 6-12.185L499.753 210.35a15.388 15.388 0 0 1 9.38-3.195c3.236 0 6.502 1.034 9.236 3.103 5.52 4.147 7.578 11.49 5.038 17.91L447.683 419.84l443.72-.01c8.498.01 15.36 6.881 15.36 15.36l.02 153.6z" fill="currentColor"></path></svg>
        fps-importer
      </a></span> <span class="next"><a href="/plugins/migrate-vijos/">
        migrate-vijos
        <svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon next-icon"><path d="M906.772 512c0 4.772-2.211 9.267-5.99 12.175L524.257 813.66a15.37 15.37 0 0 1-18.616.092 15.368 15.368 0 0 1-5.038-17.91l75.714-191.672h-443.73c-8.488 0-15.36-6.881-15.36-15.36v-153.6c0-8.489 6.872-15.36 15.36-15.36h443.73l-75.714-191.682a15.358 15.358 0 0 1 5.048-17.91c5.51-4.158 13.128-4.137 18.606.092l376.525 289.485a15.323 15.323 0 0 1 5.99 12.165z" fill="currentColor"></path></svg></a></span></p></div> <!----> </main> <!----></div><div class="global-ui"><!----><!----><div id="pwa-install"><!----> <div id="install-modal-wrapper" style="display:none;"><div class="background"></div> <div class="install-modal"><div class="header"><button aria-label="Close" class="close-button"><svg width="23" height="22" xmlns="http://www.w3.org/2000/svg" class="icon close-icon"><path fill-rule="evenodd" clip-rule="evenodd" d="M1.12.358a1.224 1.224 0 011.729 0l8.92 8.914L20.686.358a1.224 1.224 0 011.73 1.728L13.497 11l8.92 8.913a1.222 1.222 0 11-1.73 1.729l-8.919-8.913-8.92 8.913a1.224 1.224 0 01-1.729-1.729L10.04 11l-8.92-8.914a1.222 1.222 0 010-1.728z" fill="currentColor"></path></svg></button> <div class="logo"><!----> <div class="title"><h1></h1> <p class="desc">This app can be installed on your PC or mobile device.  This will allow this web app to look and behave like any other installed app.  You will find it in your app lists and be able to pin it to your home screen, start menus or task bars.  This installed web app will also be able to safely interact with other apps and your operating system. </p></div></div></div> <div class="content"><div class="highlight"><!----> <!----></div> <div class="description"><h3>Description</h3> <p></p></div></div> <div class="button-wrapper"><button class="install-button">
        Install <span></span></button> <button class="cancel-button">
        Cancel
      </button></div></div></div></div><div tabindex="-1" role="dialog" aria-hidden="true" class="pswp"><div class="pswp__bg"></div> <div class="pswp__scroll-wrap"><div class="pswp__container"><div class="pswp__item"></div> <div class="pswp__item"></div> <div class="pswp__item"></div></div> <div class="pswp__ui pswp__ui--hidden"><div class="pswp__top-bar"><div class="pswp__counter"></div> <button title="Close (Esc)" class="pswp__button pswp__button--close"></button> <button title="Share" class="pswp__button pswp__button--share"></button> <button title="Toggle fullscreen" class="pswp__button pswp__button--fs"></button> <button title="Zoom in/out" class="pswp__button pswp__button--zoom"></button> <div class="pswp__preloader"><div class="pswp__preloader__icn"><div class="pswp__preloader__cut"><div class="pswp__preloader__donut"></div></div></div></div></div> <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class="pswp__share-tooltip"></div></div> <button title="Previous (arrow left)" class="pswp__button pswp__button--arrow--left"></button> <button title="Next (arrow right)" class="pswp__button pswp__button--arrow--right"></button> <div class="pswp__caption"><div class="pswp__caption__center"></div></div></div></div></div><!----></div></div>
    <script src="/assets/js/app.9be10bc1.js" defer></script><script src="/assets/js/layout-Layout.47b6f70b.js" defer></script><script src="/assets/js/vendors~layout-Blog~layout-Layout~layout-NotFound.3ae24e86.js" defer></script><script src="/assets/js/vendors~layout-Blog~layout-Layout~layout-NotFound~layout-Slide.115a3591.js" defer></script><script src="/assets/js/vendors~layout-Blog~layout-Layout.495a8045.js" defer></script><script src="/assets/js/page-hydrojudge.ce7df22d.js" defer></script>
  </body>
</html>
